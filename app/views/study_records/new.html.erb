<div class="study-records-new">
  <h1 class='title'>å­¦ç¿’è¨˜éŒ²ã®ä½œæˆ</h1>

   <div class="character-image">
      <%= image_tag "character-pen.png", alt: "ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼", class: "cute-character" %>
   </div>

 <div class="form-container">
   <%= form_with(model: @study_record, local: true) do |f| %>
      <% if @study_record.errors.any? %>
        <div class= 'error_messages'>
         <h2><%= pluralize(@study_record.errors.count, 'error') %>ä»¶ã®ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚Šã¾ã™</h2>
            <ul>
                <% @study_record.errors.full_messages.each do |message| %>
                    <li><%= message %></li>
                <% end %>
            </ul>
        </div>
    <% end %>

    <div class='form-group'>
        <%= f.label :study_date, 'å­¦ç¿’æ—¥' %>
        <%= f.date_field :study_date, class: 'form-control', value: Date.today, max: Date.today %>
    </div>

    <div class= 'form-group'>
        <%= f.label :study_time, 'å­¦ç¿’æ™‚é–“' %>
        <div class= 'datepicker'>
          <%= f.number_field :study_hours, class: 'form-control', min: 1, max:24, placeholder: '0' %>
          <span>æ™‚é–“</span>
          <%= f.number_field :study_minutes, class: 'form-control', min:0, max:59, placeholder: '0' %>
          <span>åˆ†</span>
        </div>
    </div>

    <div class= 'form-group'>
        <%= f.label :content, 'ã²ã¨ã“ã¨ãƒ¡ãƒ¢' %>
        <%= f.text_area :content, class: 'form-control', maxlength: 100, placeholder: '100æ–‡å­—ä»¥å†…ã§å…¥åŠ›ã§ãã¾ã™' %>
    </div>

    <div class= 'form-group'>
        <%= f.label :concentration_level, 'ä»Šæ—¥ã®ãŒã‚“ã°ã‚Šåº¦' %>
        <div class='concentration-meter'>
          <input type='range' 
              name='study_record[concentration_level]' 
              min='1' 
              max='5' 
             value='3'
              class='form-range'
              id='concentrationRange'>
        <div class='d-flex justify-content-between'>
          <span>ğŸ˜´ ä½ã„</span>
          <span id='concentrationValue'>3</span>
          <span>ğŸ”¥ é«˜ã„</span>
        </div>
        </div>
    </div>

    <script>
      const range = document.getElementById('concentrationRange');
      const value = document.getElementById('concentrationValue');
  
      range.addEventListener('input', function() {
       value.textContent = this.value;
     });
    </script>

    <div class ='actions'>
        <%= f.submit 'ä¿å­˜', class: 'btn btn-primary' %>
        <%= link_to 'æˆ»ã‚‹', study_records_path, class: 'btn btn-secondary' %>
    </div>
  <% end %>
 </div>
</div>
